{# def token, name #}
{# -*- coding: utf-8 -*-
    Extension of the invenio_oauth2server settings page to include the retrieval of the personal access token
    via the API.
#}

{%- extends "invenio_oauth2server/settings/index.html" %}

{%- import "invenio_oauth2server/settings/helpers.html" as helpers with context %}
{%- from "invenio_oauth2server/settings/_macros.html" import render_field with context %}

{% block settings_content %}
{{helpers.panel_start(
    _('Generated personal access token for %(name)s', name=token.client.name),
    with_body=False
)}}


<div class="ui segment">
    <h3 class="ui small header">{{ _('One time password') }}</h3>
    <code>{{token.access_token}}</code>
    <p class="ui icon info message">
        {{ _("Please copy the one time password to your application. You won't see it again!") }}
    </p>
    <p class="ui icon negative message">
        {{ _('Do not share this password with anyone. It gives full access to your account!') }}
    </p>
</div>
{%- block token_footer_text %}{%- endblock %}
{{helpers.panel_end(with_body=False)}}
{% endblock %}
